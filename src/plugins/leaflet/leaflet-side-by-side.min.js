L.Control.SideBySide=L.Control.extend({mapWasDragEnabled:!1,mapWasTapEnabled:!1,options:{thumbSize:42,padding:0,sbsctrdirection:""},initialize(e,r,t){this.setGloalStyle(t.sbsctrdirection),this.setLeftLayers(e),this.setRightLayers(r),L.setOptions(this,t)},on(e,r,t,n){r.split(" ").forEach(function(r){L.DomEvent.on(e,r,t,n)})},off(e,r,t,n){r.split(" ").forEach(function(r){L.DomEvent.off(e,r,t,n)})},getRangeEvent:e=>"oninput"in e?"input":"change",cancelMapDrag(){this.mapWasDragEnabled=this._map.dragging.enabled(),this.mapWasTapEnabled=this._map.tap&&this._map.tap.enabled(),this._map.dragging.disable(),this._map.tap&&this._map.tap.disable()},uncancelMapDrag(e){this._refocusOnMap(e),this.mapWasDragEnabled&&this._map.dragging.enable(),this.mapWasTapEnabled&&this._map.tap.enable()},asArray:e=>"undefined"===e?[]:Array.isArray(e)?e:[e],setGloalStyle(e){this._sbsctrdirection=e;var r="",t="";switch(this._sbsctrdirection){case"leftright":r='.leaflet-sbs-divider {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 50%;\r\n    margin-left: -2px;\r\n    width: 4px;\r\n    height:100%;\r\n    background-color: #fff;\r\n    pointer-events: none;\r\n    z-index: 999;\r\n}\r\n.leaflet-sbs-range {\r\n    position: absolute;\r\n    top: 50%;\r\n    width: 100%;\r\n    transform: unset;\r\n    -webkit-appearance: none;\r\n    display: inline-block!important;\r\n    vertical-align: middle;\r\n    height: 0;\r\n    padding: 0;\r\n    margin: 0;\r\n    border: 0;\r\n    background: rgba(0, 0, 0, 0.25);\r\n    min-width: 100px;\r\n    cursor: pointer;\r\n    pointer-events: none;\r\n    z-index: 999;\r\n}\r\n.leaflet-sbs-range::-ms-fill-upper {\r\n    background: transparent;\r\n}\r\n.leaflet-sbs-range::-ms-fill-lower {\r\n    background: rgba(255, 255, 255, 0.25);\r\n}\r\n/* Browser thingies */\r\n\r\n.leaflet-sbs-range::-moz-range-track {\r\n    opacity: 0;\r\n}\r\n.leaflet-sbs-range::-ms-track {\r\n    opacity: 0;\r\n}\r\n.leaflet-sbs-range::-ms-tooltip {\r\n    display: none;\r\n}\r\n/* For whatever reason, these need to be defined\r\n * on their own so dont group them */\r\n\r\n.leaflet-sbs-range::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    background: #fff;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 20px;\r\n    cursor: ew-resize;\r\n    pointer-events: auto;\r\n    border: 1px solid #ddd;\r\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: 40px 40px;\r\n}\r\n.leaflet-sbs-range::-ms-thumb {\r\n    margin: 0;\r\n    padding: 0;\r\n    background: #fff;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 20px;\r\n    cursor: ew-resize;\r\n    pointer-events: auto;\r\n    border: 1px solid #ddd;\r\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: 40px 40px;\r\n}\r\n.leaflet-sbs-range::-moz-range-thumb {\r\n    padding: 0;\r\n    right: 0    ;\r\n    background: #fff;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 20px;\r\n    cursor: ew-resize;\r\n    pointer-events: auto;\r\n    border: 1px solid #ddd;\r\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: 40px 40px;\r\n}\r\n.leaflet-sbs-range:disabled::-moz-range-thumb {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:disabled::-ms-thumb {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:disabled::-webkit-slider-thumb {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:disabled {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:focus {\r\n    outline: none!important;\r\n}\r\n.leaflet-sbs-range::-moz-focus-outer {\r\n    border: 0;\r\n}\r\n\r\n';document.getElementsByTagName("style")[0]?document.getElementsByTagName("style")[0].appendChild(document.createTextNode(r)):(head=document.getElementsByTagName("head")[0],style=document.createElement("style"),style.type="text/css",style.appendChild(document.createTextNode(r)),head.appendChild(style));break;case"updown":t='.leaflet-sbs-divider {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n     right: 0;\r\n    margin-top: -2px;\r\n    height:4px;\r\n    width: 100%;\r\n        background-color: #fff;\r\n    pointer-events: none;\r\n    z-index: 999;\r\n}\r\n.leaflet-sbs-range {\r\n    position: absolute;\r\n    top: 45%;\r\n     height: 100%;\r\n    transform: rotate(90deg);\r\n    -webkit-appearance: none;\r\n    display: inline-block!important;\r\n    vertical-align: middle;\r\n    width: 0;\r\n    padding: 0;\r\n    margin: 0;\r\n    border: 0;\r\n    background: rgba(0, 0, 0, 0.25);\r\n      cursor: pointer;\r\n    pointer-events: none;\r\n    z-index: 999;\r\n}\r\n.leaflet-sbs-range::-ms-fill-upper {\r\n    background: transparent;\r\n}\r\n.leaflet-sbs-range::-ms-fill-lower {\r\n    background: rgba(255, 255, 255, 0.25);\r\n}\r\n/* Browser thingies */\r\n\r\n.leaflet-sbs-range::-moz-range-track {\r\n    opacity: 0;\r\n}\r\n.leaflet-sbs-range::-ms-track {\r\n    opacity: 0;\r\n}\r\n.leaflet-sbs-range::-ms-tooltip {\r\n    display: none;\r\n}\r\n/* For whatever reason, these need to be defined\r\n * on their own so dont group them */\r\n\r\n.leaflet-sbs-range::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    background: #fff;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 20px;\r\n    cursor: ns-resize;\r\n    pointer-events: auto;\r\n    border: 1px solid #ddd;\r\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: 40px 40px;\r\n}\r\n.leaflet-sbs-range::-ms-thumb {\r\n    margin: 0;\r\n    padding: 0;\r\n    background: #fff;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 20px;\r\n    cursor: ns-resize;\r\n    pointer-events: auto;\r\n    border: 1px solid #ddd;\r\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: 40px 40px;\r\n}\r\n.leaflet-sbs-range::-moz-range-thumb {\r\n    padding: 0;\r\n    right: 0    ;\r\n    background: #fff;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 20px;\r\n    cursor: ns-resize;\r\n    pointer-events: auto;\r\n    border: 1px solid #ddd;\r\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: 40px 40px;\r\n}\r\n.leaflet-sbs-range:disabled::-moz-range-thumb {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:disabled::-ms-thumb {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:disabled::-webkit-slider-thumb {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:disabled {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:focus {\r\n    outline: none!important;\r\n}\r\n.leaflet-sbs-range::-moz-focus-outer {\r\n    border: 0;\r\n}\r\n\r\n';document.getElementsByTagName("style")[0]?document.getElementsByTagName("style")[0].appendChild(document.createTextNode(t)):(head=document.getElementsByTagName("head")[0],style=document.createElement("style"),style.type="text/css",style.appendChild(document.createTextNode(t)),head.appendChild(style))}},getPosition(){const e=this._range.value,r=(.5-e)*(2*this.options.padding+this.options.thumbSize);switch(this.options.sbsctrdirection){case"leftright":return this._map.getSize().x*e+r;case"updown":return this._map.getSize().y*e+r}},setPosition(){},includes:L.Evented.prototype||L.Mixin.Events,addTo(e){this.remove(),this._map=e;const r=this._container=L.DomUtil.create("div","leaflet-sbs",e._controlContainer);this._divider=L.DomUtil.create("div","leaflet-sbs-divider",r);const t=this._range=L.DomUtil.create("input","leaflet-sbs-range",r);return t.type="range",t.min=0,t.max=1,t.step="any",t.value=.5,t.style.paddingTop=t.style.paddingBottom=`${this.options.padding}px`,this._addEvents(),this._updateLayers(),this},remove(){const e=document.getElementsByClassName("leaflet-sbs")[0];if(null!=e&&e.parentNode.removeChild(e),this._leftLayers){const e=this._leftLayers.length;for(var r=0;r<e;r++)(this._leftLayers[r].getContainer?this._leftLayers[r].getContainer():this._leftLayers[r].getPane()).style.clip=""}if(this._rightLayers){const e=this._rightLayers.length;for(r=0;r<e;r++)(this._rightLayers[r].getContainer?this._rightLayers[r].getContainer():this._rightLayers[r].getPane()).style.clip=""}return this._removeEvents(),this._map=null,this},setLeftLayers(e){return this._leftLayers=this.asArray(e),this._updateLayers(),this},setRightLayers(e){return this._rightLayers=this.asArray(e),this._updateLayers(),this},_updateClip(){const e=this._map,r=e.containerPointToLayerPoint([0,0]),t=e.containerPointToLayerPoint(e.getSize()),n=r.x+this.getPosition(),a=r.y+this.getPosition(),i=this.getPosition(),s=this._map.getSize().y/2,o=this._map.getSize().x/2-s;switch(this.options.sbsctrdirection){case"leftright":this._divider.style.left=`${i}px`,this.fire("dividermove",{x:i});var l=`rect(${[r.y,n,t.y,r.x].join("px,")}px)`,d=`rect(${[r.y,t.x,t.y,n].join("px,")}px)`;break;case"updown":this._divider.style.top=`${i}px`,this._range.style.width=`${this._map.getSize().y}px`,this._range.style.height=0,this._range.style.top=`${s}px`,this._range.style.left=`${o}px`,this.fire("dividermove",{x:i});l=`rect(${[r.y,t.x,a,r.x].join("px,")}px)`,d=`rect(${[a,t.x,t.y,r.x].join("px,")}px)`}if(this._leftLayers){const e=this._leftLayers.length;for(var h=0;h<e;h++)(this._leftLayers[h].getContainer?this._leftLayers[h].getContainer():this._leftLayers[h].getPane()).style.clip=l,this._leftLayers[h]._shadow&&(this._leftLayers[h]._shadow.parentElement.style.clip=l)}if(this._rightLayers){const e=this._rightLayers.length;for(h=0;h<e;h++)(this._rightLayers[h].getContainer?this._rightLayers[h].getContainer():this._rightLayers[h].getPane()).style.clip=d,this._rightLayers[h]._shadow&&(this._rightLayers[h]._shadow.parentElement.style.clip=d)}},_updateLayers(){if(!this._map)return this;const e=this._leftLayer,r=this._rightLayer;this._leftLayer=this._rightLayer=null,this._leftLayers.forEach(function(e){this._map.hasLayer(e)&&(this._leftLayer=e)},this),this._rightLayers.forEach(function(e){this._map.hasLayer(e)&&(this._rightLayer=e)},this),e!==this._leftLayer&&(e&&this.fire("leftlayerremove",{layer:e}),this._leftLayer&&this.fire("leftlayeradd",{layer:this._leftLayer})),r!==this._rightLayer&&(r&&this.fire("rightlayerremove",{layer:r}),this._rightLayer&&this.fire("rightlayeradd",{layer:this._rightLayer})),this._updateClip()},_addEvents(){const e=this._range,r=this._map;r&&e&&(r.on("move",this._updateClip,this),r.on("layeradd layerremove",this._updateLayers,this),L.DomEvent.on(e,this.getRangeEvent(e),this._updateClip,this),L.DomEvent.on(e,"touchstart",this.cancelMapDrag,this),L.DomEvent.on(e,"touchend",this.uncancelMapDrag,this),L.DomEvent.on(e,"mousedown",this.cancelMapDrag,this),L.DomEvent.on(e,"mouseup",this.uncancelMapDrag,this))},_removeEvents(){const e=this._range,r=this._map;e&&(L.DomEvent.off(e,this.getRangeEvent(e),this._updateClip,this),L.DomEvent.off(e,"touchstart",this.cancelMapDrag,this),L.DomEvent.off(e,"touchend",this.uncancelMapDrag,this),L.DomEvent.off(e,"mousedown",this.cancelMapDrag,this),L.DomEvent.off(e,"mouseup",this.uncancelMapDrag,this)),r&&(r.off("layeradd layerremove",this._updateLayers,this),r.off("move",this._updateClip,this))}}),L.control.sideBySide=function(e,r,t){return new L.Control.SideBySide(e,r,t)};
